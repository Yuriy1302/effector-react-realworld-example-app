"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[69],{1069:function(e,n,r){r.r(n),r.d(n,{default:function(){return U}});var t=r(3312),a=r(9511),o=r(227),u=r(9041),l=r(1549),i=r(8438),s=r(6942),c=r(5483),f=(0,l.Fj)("settings-page"),m=f.createEvent(),d=f.createEffect((function(e){return s.gz("user",{user:e})})),h=(0,u.Bq)(),v=t.o4.bR.map((function(e){return e})),g=(0,i.Np)({fields:{image:{init:""},username:{init:""},bio:{init:""},email:{init:""},password:{init:""}}});(0,l.UP)({source:v,clock:(0,l.TS)([h.open,v.updates]),target:g.set}),(0,l.UP)({source:g.$values,clock:m,target:d}),d.done.watch((function(){window.location.reload()})),t.o4.f1.watch((function(){c.m8.push("/")})),o.o._4.on(d.failData,(function(e,n){var r;return null===(r=n.response)||void 0===r?void 0:r.data})).reset(g.$values,h.close);var p=r(4246),x=function(){var e=(0,i.U$)(g.fields.bio),n=e.value,r=e.name,t=e.onChange;return(0,p.jsx)(a.Wi,{as:"textarea",className:"form-control-lg",name:r,placeholder:"Short bio about you",rows:8,value:n,onChange:function(e){return t(e.target.value)}})},j=function(){var e=(0,i.U$)(g.fields.email),n=e.value,r=e.name,t=e.onChange;return(0,p.jsx)(a.Wi,{className:"form-control-lg",name:r,placeholder:"Email",type:"email",value:n,onChange:function(e){return t(e.target.value)}})},b=function(){var e=(0,i.U$)(g.fields.image),n=e.value,r=e.name,t=e.onChange;return(0,p.jsx)(a.Wi,{name:r,placeholder:"URL of profile picture",value:n,onChange:function(e){return t(e.target.value)}})},y=function(){var e=(0,i.U$)(g.fields.password),n=e.value,r=e.name,t=e.onChange;return(0,p.jsx)(a.Wi,{autoComplete:"current-password",className:"form-control-lg",name:r,placeholder:"New Password",type:"password",value:n,onChange:function(e){return t(e.target.value)}})},w=function(){var e=(0,u.oR)(d.pending);return(0,p.jsx)(a.zx,{className:"btn-lg btn-primary pull-xs-right",disabled:e,type:"submit",children:"Update Settings"})},C=function(){var e=(0,i.U$)(g.fields.username),n=e.value,r=e.name,t=e.onChange;return(0,p.jsx)(a.Wi,{className:"form-control-lg",name:r,placeholder:"Username",value:n,onChange:function(e){return t(e.target.value)}})},N=function(){return(0,u.DD)(h),(0,p.jsxs)(a.l0,{onSubmit:function(e){e.preventDefault(),m()},children:[(0,p.jsx)(b,{}),(0,p.jsx)(C,{}),(0,p.jsx)(x,{}),(0,p.jsx)(j,{}),(0,p.jsx)(y,{}),(0,p.jsx)(w,{})]})},U=function(){return(0,p.jsx)(a.T3,{children:(0,p.jsx)(a.X2,{children:(0,p.jsxs)("div",{className:"col-md-6 offset-md-3 col-xs-12",children:[(0,p.jsx)("h1",{className:"text-xs-center",children:"Your Settings"}),(0,p.jsx)(o.K,{}),(0,p.jsx)(N,{}),(0,p.jsx)("hr",{}),(0,p.jsx)(a.zx,{className:"btn-outline-danger",onClick:t.o4.f1,children:"Or click here to logout."})]})})})}},227:function(e,n,r){r.d(n,{K:function(){return f},o:function(){return t}});var t={};r.r(t),r.d(t,{_4:function(){return a},l6:function(){return u},CD:function(){return o}});var a=(0,r(1549).MT)({errors:{}}),o=a.map((function(e){return Object.keys(e).length})),u=a.map((function(e){return Object.entries(e.errors)})),l=r(9041),i=r(4246);function s(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var t,a,o=[],u=!0,l=!1;try{for(r=r.call(e);!(u=(t=r.next()).done)&&(o.push(t.value),!n||o.length!==n);u=!0);}catch(e){l=!0,a=e}finally{try{u||null==r.return||r.return()}finally{if(l)throw a}}return o}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return c(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return c(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,n){(null==n||n>e.length)&&(n=e.length);for(var r=0,t=new Array(n);r<n;r++)t[r]=e[r];return t}var f=function(){var e=(0,l.oR)(o),n=(0,l.oR)(u);return(0,i.jsx)(i.Fragment,{children:e&&(0,i.jsx)("ul",{className:"error-messages",children:n.map((function(e){var n=s(e,2),r=n[0],t=n[1];return(0,i.jsxs)("li",{children:[r," ",t]},r)}))})})}}}]);