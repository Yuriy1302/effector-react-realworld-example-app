"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[801],{9570:function(t,e,n){n.d(e,{b:function(){return r}});var r=function(t,e){return"limit=".concat(t,"&offset=").concat(e*t)}},9801:function(t,e,n){n.r(e),n.d(e,{default:function(){return E}});var r=n(9041),a=n(9792),o=n(797),c=n(1549),i=n(3719),u=n(5599),l=n(2793),s=n(9570);function f(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function g(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?f(Object(n),!0).forEach((function(e){p(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function p(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var d=a.Aw(),v=d.Gate,b=d.favoriteToggled,j=d.$currentPage,h=d.$currentTag,O=d.$pageSize,m=d.setFavoriteArticleFx,y=d.setUnfavoriteArticleFx,P=(0,c.yM)(),w=(0,c.GW)((function(t){var e=t.tag,n=t.page;return u.h.get("articles?tag=".concat(encodeURIComponent(e),"&").concat((0,s.b)(10,n))).then((function(t){return t.data}))})),x=(0,i.status)({effect:w}),k=(0,c.MT)({}).on(w.done,(function(t,e){var n=e.params,r=e.result;return g(g({},t),{},p({},n.tag,r))})),C=(0,c.$e)(k,h,(function(t,e){var n;return null!==(n=t[e])&&void 0!==n?n:{articles:[],articlesCount:0}})).on([m.done,y.done],(function(t,e){var n=e.params,r=e.result;return g(g({},t),{},{articles:t.articles.map((function(t){return t.slug!==n?t:g(g({},t),{},{favorited:r.article.favorited,favoritesCount:r.article.favoritesCount})}))})})),S=C.map((function(t){return t.articles})),$=C.map((function(t){return t.articlesCount})),D=(0,c.$e)(x,S,(function(t,e){return"done"===t&&0===e.length})),F=(0,c.$e)({total:$,loading:w.pending,isEmptyFeed:D,currentPage:j,pageSize:O,totalPages:$});(0,c.UP)({source:{tag:h,page:j,pageSize:O},clock:[v.open,P,(0,c.lo)(h,{filter:Boolean})],target:w}),(0,c.UP)({source:{path:l.o4.y5,tag:h},clock:P,fn:function(t,e){return{path:t.path,page:e,tag:t.tag}}}).watch((function(t){var e=t.path,n=t.page,r=t.tag;l.m8.replace("".concat(e,"?tag=").concat(r,"&page=").concat(n))}));var z=n(4246),E=function(){(0,r.DD)(v);var t=(0,r.oR)(F),e=t.isEmptyFeed,n=t.currentPage,c=t.pageSize,i=t.totalPages,u=t.loading;return(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(a.xZ,{show:e}),(0,z.jsx)(a.WG,{children:(0,r.sm)(S,{getKey:function(t){return t.slug},fn:function(t){return(0,z.jsx)("li",{children:(0,z.jsx)(a.p2,{data:t,onClick:function(){b(t)}})})}})}),(0,z.jsx)(o.tl,{current:n,pageSize:c,total:i,onItemClick:P}),(0,z.jsx)(o.$j,{loading:u})]})}}}]);