"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[403],{403:function(e,n,t){t.r(n),t.d(n,{Home:function(){return L},default:function(){return D}});var r=t(797),c=t(7378),a=t(9635),i=t(2793),o=t(4246),s=(0,c.lazy)((function(){return Promise.all([t.e(719),t.e(681)]).then(t.bind(t,1681))})),u=(0,c.lazy)((function(){return t.e(458).then(t.bind(t,1458))})),l=(0,c.lazy)((function(){return Promise.all([t.e(719),t.e(801)]).then(t.bind(t,9801))})),d=(0,c.lazy)((function(){return t.e(74).then(t.bind(t,2074))})),f=function(){var e=(0,a.$B)().path;return(0,o.jsxs)(a.rs,{children:[(0,o.jsx)(a.AW,{exact:!0,path:"/home",children:(0,o.jsx)(i.g,{children:function(n){return n.isAuth?(0,o.jsx)(a.l_,{to:"".concat(e).concat(i.nn.YOUR_FEED)}):(0,o.jsx)(a.l_,{to:"".concat(e).concat(i.nn.GLOBAL_FEED)})}})}),(0,o.jsx)(a.AW,{component:u,path:"".concat(e).concat(i.nn.GLOBAL_FEED)}),(0,o.jsx)(i.M8,{component:s,path:"".concat(e).concat(i.nn.YOUR_FEED)}),(0,o.jsx)(a.AW,{component:l,path:"".concat(e).concat(i.nn.FEED_BY_TAG)}),(0,o.jsx)(a.AW,{component:d,path:"*"})]})},h=t(9041),p=t(1549),j=t(5599),x=(0,h.Bq)(),m=(0,p.GW)((function(){return j.h.get("tags").then((function(e){return e.data.tags}))})),g=(0,p.nu)(m.doneData,[]);(0,p.eH)({from:x.open,to:m});var v=t(4289),b=function(){var e=(0,a.$B)().url;return(0,o.jsx)(r.PS,{children:(0,h.sm)(g,{getKey:function(e){return e},fn:function(n){return(0,o.jsx)(v.rU,{className:"tag-default tag-pill",to:"".concat(e).concat(i.nn.FEED_BY_TAG,"?tag=").concat(n),children:n.toLowerCase()})}})})},O=function(){return(0,h.DD)(x),(0,o.jsxs)("aside",{className:"sidebar",children:[(0,o.jsx)("p",{children:"Popular Tags"}),(0,o.jsx)(b,{})]})},y=t(9680),w=function(){return(0,o.jsx)(i.g,{children:function(e){return e.isAuth?null:(0,o.jsx)(r.jL,{children:(0,o.jsxs)(r.W2,{children:[(0,o.jsx)("h1",{className:"logo-font",children:y.i.toLowerCase()}),(0,o.jsx)("p",{children:"A place to share your Effector knowledge."})]})})}})},P=t(9792),E=function(e){var n=e.url;return(0,o.jsx)(i.g,{children:function(e){return e.isAuth?(0,o.jsx)(r.LY,{children:(0,o.jsx)(r.OL,{to:"".concat(n).concat(i.nn.YOUR_FEED),children:"Your Feed"})}):null}})},N=(0,P.Aw)(),A=function(){var e=(0,h.oR)(N.$currentTag),n=(0,a.$B)().url;return(0,o.jsxs)("ul",{className:"feed-toggle nav nav-pills outline-active",children:[(0,o.jsx)(E,{url:n}),(0,o.jsx)(r.LY,{children:(0,o.jsx)(r.OL,{to:"".concat(n).concat(i.nn.GLOBAL_FEED),children:"Global Feed"})}),e&&(0,o.jsx)(r.LY,{children:(0,o.jsxs)(r.OL,{to:"".concat(n).concat(i.nn.FEED_BY_TAG,"?tag=").concat(e),children:[(0,o.jsx)("i",{className:"ion-pound"}),e]})})]})},L=function(){return(0,o.jsxs)("div",{className:"home-page",children:[(0,o.jsx)(w,{}),(0,o.jsx)(r.T3,{children:(0,o.jsxs)(r.X2,{children:[(0,o.jsxs)("main",{className:"col-md-9",children:[(0,o.jsx)(A,{}),(0,o.jsx)(f,{})]}),(0,o.jsx)("div",{className:"col-md-3",children:(0,o.jsx)(O,{})})]})})]})},D=L},9792:function(e,n,t){t.d(n,{qn:function(){return j},p2:function(){return m},WG:function(){return g},xZ:function(){return v},Aw:function(){return d}});var r=t(1549),c=t(9041),a=t(5599),i=t(2793);function o(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function s(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?o(Object(t),!0).forEach((function(n){u(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function u(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var l={currentPage:1,pageSize:10,status:(0,r.MT)("initial")},d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,n=s(s({},l),e),t=(0,r.yM)(),o=(0,r.yM)(),u=(0,r.GW)((function(e){return a.h.post("articles/".concat(e,"/favorite")).then((function(e){return e.data}))})),d=(0,r.GW)((function(e){return a.h.delete("articles/".concat(e,"/favorite")).then((function(e){return e.data}))})),f=(0,r.MT)(n.pageSize),h=i.o4.RJ.map((function(e){var n;return null!==(n=new URLSearchParams(e).get("tag"))&&void 0!==n?n:""})),p=i.o4.RJ.map((function(e){var t,r=null!==(t=new URLSearchParams(e).get("page"))&&void 0!==t?t:n.currentPage;return Number(r)-1})),j=(0,r.MT)({articles:[],articlesCount:0}).on([u.done,d.done],(function(e,n){var t=n.params,r=n.result;return s(s({},e),{},{articles:e.articles.map((function(e){return e.slug!==t?e:s(s({},e),{},{favorited:r.article.favorited,favoritesCount:r.article.favoritesCount})}))})})),x=j.map((function(e){return e.articles})),m=j.map((function(e){return e.articlesCount})),g=n.status,v=(0,r.$e)(g,x,(function(e,n){return"done"===e&&0===n.length}));(0,r.UP)({source:i.o4.y5,clock:t,fn:function(e,n){return{path:e,page:n}}}).watch((function(e){var n=e.path,t=e.page;i.m8.replace("".concat(n,"?page=").concat(t))})),(0,r.lo)({source:o,filter:function(e){return!0===e.favorited},target:d.prepend((function(e){return e.slug}))}),(0,r.lo)({source:o,filter:function(e){return!1===e.favorited},target:u.prepend((function(e){return e.slug}))}),(0,r.lo)({source:u.failData,filter:function(e){var n;return 401===(null===(n=e.response)||void 0===n?void 0:n.status)}}).watch((function(){i.m8.push(i.nn.LOGIN)}));var b=(0,r.$e)({pageSize:f,currentPage:p,currentTag:h,totalPages:m,isEmptyFeed:v});return{Gate:(0,c.Bq)(),currentPageWasSet:t,favoriteToggled:o,setFavoriteArticleFx:u,setUnfavoriteArticleFx:d,$feed:j,$articles:x,$pageSize:f,$currentPage:p,$currentTag:h,$totalPages:m,$isEmptyFeed:v,useModel:function(){return(0,c.oR)(b)}}},f=t(4289),h=t(797),p=t(4246),j=function(e){var n=e.author,t=e.createdAt,r=e.children;return(0,p.jsxs)("div",{className:"article-meta",children:[(0,p.jsx)(f.rU,{to:"/@".concat(n.username),children:(0,p.jsx)("img",{alt:n.username,src:n.image})}),(0,p.jsxs)("div",{className:"info",children:[(0,p.jsx)(f.rU,{className:"author",to:"/@".concat(n.username),children:n.username}),(0,p.jsx)("span",{className:"date",children:new Date(t).toDateString()})]}),r]})},x=function(e){var n=e.active,t=e.onClick,r=e.children;return(0,p.jsxs)(h.zx,{className:"btn btn-sm btn-outline-primary","data-active":n,onClick:t,children:[(0,p.jsx)("i",{className:"ion-heart"})," ",r]})},m=function(e){var n=e.data,t=n.author,r=n.createdAt,c=n.slug,a=n.title,i=n.description,o=n.tagList,s=n.favorited,u=n.favoritesCount,l=e.onClick;return(0,p.jsxs)("article",{className:"article-preview",children:[(0,p.jsx)(j,{author:t,createdAt:r,children:(0,p.jsx)("div",{className:"pull-xs-right",children:(0,p.jsx)(x,{active:s,onClick:l,children:u})})}),(0,p.jsxs)(f.rU,{className:"preview-link",to:"/article/".concat(c),children:[(0,p.jsx)("h1",{children:a}),(0,p.jsx)("p",{children:i}),(0,p.jsx)("span",{children:"Read more..."}),(0,p.jsx)(h.PS,{children:o.map((function(e){return(0,p.jsx)(h.Vp,{children:e.toLowerCase()},e)}))})]})]})},g=function(e){var n=e.children;return(0,p.jsx)("ul",{className:"articles-wrapper list-unstyled",children:n})},v=function(e){return e.show?(0,p.jsx)("div",{className:"empty-articles article-preview",children:"No articles are here... yet."}):null}}}]);