(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{"I+tg":function(e,r,t){"use strict";t.r(r);var n=t("irwn"),o=t("dY8W"),i=t("UYjC"),a=t("xArF"),u=t("YSF1"),c=Object(u.createEvent)(),s=Object(u.createEvent)(),l=Object(a.a)({fields:{currentTag:{init:""}}});Object(u.sample)({source:l.fields.currentTag.$value,clock:Object(u.guard)(s,{filter:function(e){return"Enter"===e.key}}),target:c}),Object(u.forward)({from:c,to:l.reset});var f=t("oYCi"),d=function(){var e=Object(a.c)(l).fields;return Object(f.jsx)(i.e,{onSubmit:function(e){return e.preventDefault()},children:Object(f.jsx)(i.g,{autoComplete:"off",name:"tag-list",placeholder:"Enter tags",value:e.currentTag.value,onChange:function(r){return e.currentTag.onChange(r.target.value)},onKeyDown:s})})},b=t("eZyy"),m=t("6le1"),v=["tagList"],j=["tagList"];function O(e){return function(e){if(Array.isArray(e))return g(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,r){if(!e)return;if("string"==typeof e)return g(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return g(e,r)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function p(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function h(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?p(Object(t),!0).forEach((function(r){y(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):p(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function y(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function x(e,r){if(null==e)return{};var t,n,o=function(e,r){if(null==e)return{};var t,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)t=i[n],r.indexOf(t)>=0||(o[t]=e[t]);return o}(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)t=i[n],r.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}var E=Object(u.createEvent)();E.watch((function(e){return e.preventDefault()}));var w=Object(u.createEvent)(),$=Object(u.createEffect)((function(e){return b.a.post("articles",{article:e}).then((function(e){return e.data.article}))})),S=Object(u.createEffect)((function(e){return b.a.get("articles/".concat(e)).then((function(e){var r=e.data.article;return{slug:r.slug,title:r.title,description:r.description,body:r.body,tagList:r.tagList}}))})),V=Object(o.a)(),T=V.state.map((function(e){var r;return null!==(r=e.slug)&&void 0!==r?r:""})),C=T.map(Boolean).map((function(e){return!e})),k=Object(a.a)({fields:{slug:{init:""},title:{init:""},description:{init:""},body:{init:""},tagList:{init:[]}}});Object(u.guard)({source:T,clock:V.open,filter:function(e){return!1==!e},target:k.reset});var D=k.fields.tagList.$value;Object(u.guard)({source:T,clock:V.open,filter:Boolean,target:S}),Object(u.forward)({from:S.doneData,to:k.set}),Object(u.sample)({source:k.$values,clock:c,fn:function(e,r){var t,n=e.tagList;return h(h({},x(e,v)),{},{tagList:(t=[].concat(O(n),[r]),Array.from(new Set(t)))})},target:k.set}),Object(u.sample)({source:k.$values,clock:w,fn:function(e,r){var t=e.tagList;return h(h({},x(e,j)),{},{tagList:t.filter((function(e){return e!==r}))})},target:k.set}),Object(u.forward)({from:[$.done,C],to:k.reset}),Object(u.sample)({source:k.$values,clock:k.submit,target:$}),$.doneData.watch((function(e){var r=e.slug;m.e.replace("/article/".concat(r))}));var A=Object(u.createStore)({errors:{}}).on($.failData,(function(e,r){var t;return null===(t=r.response)||void 0===t?void 0:t.data})).reset(k.$values,V.close),P=function(){var e=Object(o.d)(A);return Object(f.jsx)(i.d,{errors:e})},F=function(){var e=Object(a.b)(k.fields.body),r=e.value,t=e.name,n=e.onChange;return Object(f.jsx)(i.r,{name:t,placeholder:"Write your article (in markdown)",rows:8,value:r,onChange:function(e){return n(e.target.value)}})},B=function(){var e=Object(a.b)(k.fields.description),r=e.value,t=e.name,n=e.onChange;return Object(f.jsx)(i.h,{name:t,placeholder:"What's this article about?",value:r,onChange:function(e){return n(e.target.value)}})},L=function(){var e=Object(a.b)(k.fields.title),r=e.value,t=e.name,n=e.onChange;return Object(f.jsx)(i.h,{className:"form-control-lg",name:t,placeholder:"Article Title",value:r,onChange:function(e){return n(e.target.value)}})},I=function(){return Object(f.jsxs)(i.e,{id:"editor",onSubmit:E,children:[Object(f.jsx)(L,{}),Object(f.jsx)(B,{}),Object(f.jsx)(F,{})]})},N=function(){var e=Object(a.c)(k).submit,r=Object(o.d)($.pending);return Object(f.jsx)(i.b,{className:"btn-lg btn-primary pull-xs-right",disabled:r,form:"editor",type:"submit",onClick:function(r){r.preventDefault(),e()},children:"Publish article"})},Y=function(e){var r=e.children,t=e.onClick;return Object(f.jsxs)("span",{className:"tag-default tag-pill",children:[r,Object(f.jsx)(i.b,{className:"btn-sm editor-tag",onClick:t,children:Object(f.jsx)("i",{className:"ion-close-round"})})]})},W=function(){return Object(f.jsx)(i.q,{children:Object(o.c)(D,{getKey:function(e){return e},fn:function(e){return Object(f.jsx)(Y,{onClick:function(){return w(e)},children:e})}})})};r.default=function(){var e=Object(n.g)();return Object(o.b)(V,e),Object(f.jsx)(i.l,{children:Object(f.jsx)(i.n,{children:Object(f.jsxs)("div",{className:"col-md-10 offset-md-1 col-xs-12",children:[Object(f.jsx)(P,{}),Object(f.jsx)(I,{}),Object(f.jsx)(d,{}),Object(f.jsx)(W,{}),Object(f.jsx)(N,{})]})})})}},xArF:function(e,r,t){"use strict";t.d(r,"a",(function(){return b})),t.d(r,"b",(function(){return m})),t.d(r,"c",(function(){return v}));var n=t("YSF1"),o=t("dY8W");function i(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,r){if(!e)return;if("string"==typeof e)return a(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return a(e,r)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var c=function(e){var r=e.init,t=e.domain;return e.existing||(t?t.store(r):Object(n.createStore)(r))},s=function(e){var r=e.domain;return e.existing||(r?r.event():Object(n.createEvent)())};function l(e,r,t){var o,i,a,u,l,f,d,b,m,v,j,O="function"==typeof r.init?r.init():r.init,g=c({domain:t,existing:null===(o=r.units)||void 0===o?void 0:o.$value,init:O}),p=c({domain:t,existing:null===(i=r.units)||void 0===i?void 0:i.$errors,init:[]}),h=p.map((function(e){return e[0]?e[0]:null})),y=g.map((function(e){return e!==O})),x=c({domain:t,existing:null===(a=r.units)||void 0===a?void 0:a.$isTouched,init:!1}),E=s({domain:t,existing:null===(u=r.units)||void 0===u?void 0:u.onChange}),w=s({domain:t,existing:null===(l=r.units)||void 0===l?void 0:l.onBlur}),$=s({domain:t,existing:null===(f=r.units)||void 0===f?void 0:f.changed}),S=s({domain:t,existing:null===(d=r.units)||void 0===d?void 0:d.addError}),V=s({domain:t,existing:null===(b=r.units)||void 0===b?void 0:b.validate}),T=s({domain:t,existing:null===(m=r.units)||void 0===m?void 0:m.resetErrors}),C=s({domain:t,existing:null===(v=r.units)||void 0===v?void 0:v.resetValue}),k=s({domain:t,existing:null===(j=r.units)||void 0===j?void 0:j.reset}),D=h.map((function(e){return null===e}));return{changed:$,name:e,$value:g,$errors:p,$firstError:h,$isValid:D,$isDirty:y,$isTouched:x,$touched:x,$field:Object(n.combine)({value:g,errors:p,firstError:h,isValid:D,isDirty:y,isTouched:x}),onChange:E,onBlur:w,addError:S,validate:V,set:E,reset:k,resetErrors:T,resetValue:C,filter:r.filter}}function f(e){var r,t=e.$form,o=e.validateFormEvent,a=e.submitEvent,c=e.resetFormEvent,s=e.resetValues,l=e.field,f=e.rules,d=e.resetErrors,b=e.formValidationEvents,m=e.fieldValidationEvents,v=l.$value,j=l.$errors,O=l.onBlur,g=l.changed,p=l.addError,h=l.validate,y=l.resetErrors,x=l.resetValue,E=l.reset,w="function"==typeof f?Object(n.createStore)([]):Object(n.combine)(f.map((function(e){return e.source||Object(n.createStore)(null)}))),$=(r=f,function(e,t,n){for(var o=[],i="function"==typeof r?r(e,t):r,a=0;a<i.length;a++){var c=i[a],s=n?n[a]:null,l=c.validator(e,t,s);"boolean"!=typeof l||l||o.push({rule:c.name,errorText:c.errorText,value:e}),"object"!=u(l)||l.isValid||o.push({rule:c.name,errorText:l.errorText,value:e})}return o}),S=[].concat(i(b),i(m)),V=[];if(S.includes("submit")){var T=Object(n.sample)({source:Object(n.combine)({fieldValue:v,form:t,rulesSources:w}),clock:a});V.push(T)}S.includes("blur")&&V.push(Object(n.sample)({source:Object(n.combine)({fieldValue:v,form:t,rulesSources:w}),clock:O})),S.includes("change")&&V.push(Object(n.sample)({source:Object(n.combine)({fieldValue:v,form:t,rulesSources:w}),clock:Object(n.merge)([g,x,s])})),V.push(Object(n.sample)({source:Object(n.combine)({fieldValue:v,form:t,rulesSources:w}),clock:h})),V.push(Object(n.sample)({source:Object(n.combine)({fieldValue:v,form:t,rulesSources:w}),clock:o}));var C=Object(n.sample)({source:v,clock:p,fn:function(e,r){return{rule:r.rule,value:e,errorText:r.errorText}}});j.on(V,(function(e,r){var t=r.form,n=r.fieldValue,o=r.rulesSources;return $(n,t,o)})).on(C,(function(e,r){return[r].concat(i(e))})).reset(y,c,E,d),S.includes("change")||j.reset(g)}function d(e,r,t,o,i){var a=e.$value,u=e.$touched,c=e.onChange,s=e.changed,l=e.name,f=e.reset,d=e.resetValue,b=e.filter;u.on(s,(function(){return!0})).reset(f,t,o),Object(n.guard)({source:c,filter:b||function(){return!0},target:s}),a.on(s,(function(e,r){return r})).on(r,(function(e,r){return r.hasOwnProperty(l)?r[l]:e})).reset(f,d,i,t)}function b(e){var r=e.filter,t=e.domain,o=e.fields,i=e.validateOn,a=e.units,u={},c=[],b=[];for(var m in o)if(o.hasOwnProperty(m)){var v=l(m,o[m],t);u[m]=v,c.push(v.$isDirty),b.push(v.$touched)}var j=function(e){var r={};for(var t in e)e.hasOwnProperty(t)&&(r[t]=e[t].$value);return Object(n.combine)(r)}(u),O=function(e){var r=[];for(var t in e)if(e.hasOwnProperty(t)){var o=e[t].$firstError;r.push(o)}return Object(n.combine)(r).map((function(e){return e.every((function(e){return null===e}))}))}(u),g=r?Object(n.combine)(O,r,(function(e,r){return e&&r})):O,p=Object(n.combine)(c).map((function(e){return e.some(Boolean)})),h=Object(n.combine)(b).map((function(e){return e.some(Boolean)})),y=Object(n.combine)({isValid:O,isDirty:p,touched:h}),x=s({domain:t,existing:null==a?void 0:a.validate}),E=s({domain:t,existing:null==a?void 0:a.submit}),w=s({domain:t,existing:null==a?void 0:a.formValidated}),$=s({domain:t,existing:null==a?void 0:a.setForm}),S=s({domain:t,existing:null==a?void 0:a.reset}),V=s({domain:t,existing:null==a?void 0:a.resetValues}),T=s({domain:t,existing:null==a?void 0:a.resetErrors}),C=s({domain:t,existing:null==a?void 0:a.resetTouched}),k=Object(n.sample)(j,E),D=Object(n.sample)(j,x);for(var A in u)if(u.hasOwnProperty(A)){var P=o[A],F=u[A];d(F,$,S,C,V),P.rules&&f({$form:j,rules:P.rules,submitEvent:E,resetFormEvent:S,resetValues:V,resetErrors:T,validateFormEvent:x,field:F,formValidationEvents:i||["submit"],fieldValidationEvents:P.validateOn?P.validateOn:[]})}return Object(n.guard)({source:k,filter:g,target:w}),Object(n.guard)({source:D,filter:g,target:w}),{fields:u,$values:j,$eachValid:O,$isValid:O,$isDirty:p,$touched:h,$meta:y,submit:E,validate:x,resetTouched:C,reset:S,resetValues:V,resetErrors:T,setForm:$,set:$,formValidated:w}}function m(e){var r=Object(o.d)(e.$field),t=r.value,n=r.errors,i=r.firstError,a=r.isValid,u=r.isDirty,c=r.isTouched;return{name:e.name,value:t,errors:n,firstError:i,isValid:a,isDirty:u,touched:c,isTouched:c,onChange:e.onChange,onBlur:e.onBlur,addError:e.addError,validate:e.validate,reset:e.reset,set:e.onChange,resetErrors:e.resetErrors,hasError:function(){return null!==i},errorText:function(e){return i?e&&e[i.rule]?e[i.rule]:i.errorText||"":""}}}function v(e){var r={},t={};for(var n in e.fields)if(e.fields.hasOwnProperty(n)){var i=m(e.fields[n]);r[n]=i,t[n]=i.value}var a=Object(o.d)(e.$meta),u=a.isValid,c=a.isDirty,s=a.touched;return{fields:r,values:t,hasError:function(e){return e?!!r[e]&&Boolean(r[e].firstError):!u},eachValid:u,isValid:u,isDirty:c,isTouched:s,touched:s,errors:function(e){return r[e]?r[e].errors:[]},error:function(e){return r[e]?r[e].firstError:null},reset:e.reset,errorText:function(e,t){var n=r[e];return n&&n.firstError?t&&t[n.firstError.rule]?t[n.firstError.rule]:n.firstError.errorText||"":""},submit:e.submit,setForm:e.setForm,set:e.setForm,formValidated:e.formValidated}}}}]);